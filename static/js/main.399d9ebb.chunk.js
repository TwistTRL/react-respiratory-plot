(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(t,e,n){"use strict";n.r(e);var a=n(5),r=n(6),o=n(8),i=n(7),l=n(9),c=n(1),h=n.n(c),d=n(83),u=n.n(d),s=n(14),m=n(4),f=n(19),p=n(39),E=n(84),g=n.n(E),S=n(20),v=n.n(S),b=n(21),P=n(40),X=n.n(P),T=n(41),_=n.n(T),O=n(85),R=n.n(O),y=n(3),A=[{start:0,end:5,color:"#fffef9"},{start:5,end:15,color:"#fff7e4"},{start:15,end:25,color:"#fffef9"},{start:25,end:35,color:"#fff7e4"},{start:35,end:70,color:"#fffef9"},{start:70,end:80,color:"#fff7e4"},{start:80,end:100,color:"#fffef9"}],D=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(o.a)(this,Object(i.a)(e).call(this,t))).ref=h.a.createRef(),n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height;return h.a.createElement("canvas",{ref:this.ref,width:1,height:n,style:{width:e,height:n,display:"block"}})}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var t=this.props,e=t.minY,n=t.maxY,a=t.height,r=this.ref.current.getContext("2d");r.clearRect(0,0,1,a);for(var o=0,i=A;o<i.length;o++){var l=i[o],c=Math.round(Object(y.toDomYCoord_Linear)(a,e,n,l.end)),h=Math.round(Object(y.toDomYCoord_Linear)(a,e,n,l.start));r.fillStyle=l.color,r.fillRect(0,c,1,h-c)}}}]),e}(c.PureComponent),C=[{name:"",backgroundColor:"#a8e6e3",start:0,end:25,children:[{name:"MASK/BB/NC",start:0,end:5},{name:"HFNC/CPAP",start:5,end:15},{name:"BIPAP",start:15,end:25}]},{name:"",backgroundColor:"#fb8730",start:25,end:80,children:[{name:"BVM/PSV",start:25,end:35},{name:"PCV/VCV",start:35,end:70},{name:"HFOV/HFJV",start:70,end:80}]},{name:"",backgroundColor:"#ee1621",start:80,end:100,children:[{name:"ECMO",start:80,end:100}]}],I=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(o.a)(this,Object(i.a)(e).call(this,t))).ref=h.a.createRef(),n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,a=t.minY,r=t.maxY;return h.a.createElement(f.LinearSpaceYPanel,{categoryStructure:C,height:n,width:e,minY:a,maxY:r})}}]),e}(c.PureComponent),M=n(13),V="rgba(0,0,230,0.2)",N="rgb(0,0,230)",x="red",w="green",j="TIME",H=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(o.a)(this,Object(i.a)(e).call(this,t))).getSortedRSV=Object(s.memoize_one)(function(t){return t.sort(function(t,e){return t[j]-e[j]})}),n.getX=Object(s.memoize_one)(function(t){return t.map(function(t){return t[j]})}),n.ref=h.a.createRef(),n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height;return h.a.createElement("canvas",{ref:this.ref,height:n,width:e,style:{display:"block",width:e,height:n}})}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var t=this.props,e=t.respiratorySupportVariable,n=t.iNOAdministration,a=t.anestheticsAdministration,r=t.minX,o=t.maxX,i=t.width,l=t.minY,c=t.maxY,h=t.height,d=this.getSortedRSV(e),u=this.getSortedRSVInRange(d,r,o),s=this.getSortedPoints(u,i,r,o,h,l,c),m=this.getINOInRange(n,r,o),f=this.getINOPair(m,i,r,o,h,l,c),p=this.getAnestheticsInRange(a,r,o),E=this.getAnestheticsPair(p,i,r,o,h,l,c),g=this.ref.current.getContext("2d");g.clearRect(0,0,i,h);var S=Object(y.toDomYCoord_Linear)(h,l,c,0);this.fillStepPlot(g,i,h,S,s,f,E)}},{key:"getSortedRSVInRange",value:function(t,e,n){var a=this.getX(t),r=Math.max(0,Object(M.bisect_left)(a,e)),o=Math.min(Object(M.bisect_right)(a,n),t.length-1);return t.slice(r,o+1)}},{key:"getSortedPoints",value:function(t,e,n,a,r,o,i){return t.map(function(t){return{domX:Object(y.toDomXCoord_Linear)(e,n,a,t[j]),domY:Object(y.toDomYCoord_Linear)(r,o,i,t.RSS)}})}},{key:"getINOInRange",value:function(t,e,n){return t.filter(function(t){return!(t.END<=e||t.START>=n)})}},{key:"getINOPair",value:function(t,e,n,a,r,o,i){return t.map(function(t){return{startDomX:Object(y.toDomXCoord_Linear)(e,n,a,t.START),endDomX:Object(y.toDomXCoord_Linear)(e,n,a,t.END)}})}},{key:"getAnestheticsInRange",value:function(t,e,n){return t.filter(function(t){return!(t.END<=e||t.START>=n)})}},{key:"getAnestheticsPair",value:function(t,e,n,a,r,o,i){return t.map(function(t){return{startDomX:Object(y.toDomXCoord_Linear)(e,n,a,t.START),endDomX:Object(y.toDomXCoord_Linear)(e,n,a,t.END)}})}},{key:"fillStepPlot",value:function(t,e,n,a,r,o,i){var l=r.length;if(0!==l&&1!==l){t.beginPath();var c={domX:r[0].domX,domY:a};t.moveTo(c.domX,c.domY);var h=!0,d=!1,u=void 0;try{for(var s,m=r[Symbol.iterator]();!(h=(s=m.next()).done);h=!0){var f=s.value;t.lineTo(f.domX,c.domY),t.lineTo(f.domX,f.domY),c=f}}catch(F){d=!0,u=F}finally{try{h||null==m.return||m.return()}finally{if(d)throw u}}t.lineTo(r[l-1].domX,a),t.closePath(),t.fillStyle=V,t.fill(),t.save(),t.globalCompositeOperation="source-atop",t.fillStyle=x;var p=!0,E=!1,g=void 0;try{for(var S,v=o[Symbol.iterator]();!(p=(S=v.next()).done);p=!0){var b=S.value,P=Math.round(b.startDomX),X=Math.round(b.endDomX)-P;0!==X&&t.fillRect(P,0,X,n)}}catch(F){E=!0,g=F}finally{try{p||null==v.return||v.return()}finally{if(E)throw g}}t.restore(),t.save(),t.globalCompositeOperation="source-atop",t.fillStyle=w;var T=!0,_=!1,O=void 0;try{for(var R,y=i[Symbol.iterator]();!(T=(R=y.next()).done);T=!0){var A=R.value,D=Math.round(A.startDomX),C=Math.round(A.endDomX)-D;0!==C&&t.fillRect(D,0,C,n)}}catch(F){_=!0,O=F}finally{try{T||null==y.return||y.return()}finally{if(_)throw O}}t.restore(),t.beginPath();var I={domX:r[0].domX,domY:r[0].domY};t.moveTo(I.domX,I.domY);var M=!0,j=!1,H=void 0;try{for(var k,Y=r[Symbol.iterator]();!(M=(k=Y.next()).done);M=!0){var L=k.value;t.lineTo(L.domX,I.domY),t.lineTo(L.domX,L.domY),I=L}}catch(F){j=!0,H=F}finally{try{M||null==Y.return||Y.return()}finally{if(j)throw H}}t.strokeStyle=N,t.stroke()}}}]),e}(c.PureComponent),k=[{name:"",backgroundColor:"#656565",children:[{name:"Location",backgroundColor:"#feddaa"}]}],Y=[{name:"",backgroundColor:"#656565",children:[{name:"Time",backgroundColor:"#feddaa"}]}],L=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(o.a)(this,Object(i.a)(e).call(this,t))).indexLocation=Object(s.memoize_one)(function(t){return n.indexArrayBy(t,"ID")}),n.indexRSV=Object(s.memoize_one)(function(t){return n.indexArrayBy(t,"ID")}),n.selectLocation=function(t){n.setState({location__selectedLocationID:t})},n.selectCrosshair=function(t){(0,n.props.crosshairUpdateHandler)(t)},n.selectTooltip=function(t,e,a,r,o){n.setState({tooltip__hoveringTimeStamp:t,tooltip__selectedRespiratorySupportVariableID:a,tooltip__selectedLocationID:e,tooltip__hoveringClientX:r,tooltip__hoveringClientY:o})},n.handleRangerUpdating=function(t,e){(0,n.props.rangerUpdatingHandler)(t,e)},n.handleRangerUpdate=function(t,e){(0,n.props.rangerUpdateHandler)(t,e)},n.handleRangerClick=function(){(0,n.props.rangerClickHandler)()},n.handlePlotDblClick=function(){(0,n.props.plotDblClickHandler)()},n.state={tooltip__selectedLocationID:null,tooltip__selectedRespiratorySupportVariableID:null,tooltip__hoveringTimeStamp:null,tooltip__hoveringClientX:null,tooltip__hoveringClientY:null,location__selectedLocationID:null},n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.minX,a=e.maxX,r=e.width,o=e.height,i=e.respiratorySupportVariable,l=e.iNOAdministration,c=e.anestheticsAdministration,d=e.location,u=e.crosshairX,s=e.startX,E=e.endX,O=this.state,y=O.tooltip__selectedLocationID,A=O.tooltip__selectedRespiratorySupportVariableID,C=O.tooltip__hoveringTimeStamp,M=O.tooltip__hoveringClientX,V=O.tooltip__hoveringClientY,N=O.location__selectedLocationID,x=this.indexLocation(d),w=this.indexRSV(i),j=r-150-0,L=o-30-30;return h.a.createElement(m.PlotContainer,{leftWidth:150,plotWidth:j,rightWidth:0,topHeight:30,plotHeight:L,bottomHeight:30},h.a.createElement(m.PlotSubContainer,null,h.a.createElement(f.StaticYPanel,{categoryStructure:k,width:150,height:30,rowHeight:30})),h.a.createElement(m.PlotSubContainer,null,h.a.createElement(v.a,{width:j,height:30,minX:n,maxX:a,data:d}),h.a.createElement(S.LocationPlotSelectionLabel,{width:j,height:30,minX:n,maxX:a,data:d,selection:N}),h.a.createElement(b.PlotInteractionProvider,{width:j,height:30,transitionGraph:b.INTERACTION_MODEL_BARE,render:function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(S.LocationPlotHoverSelector,{data:d,minX:n,maxX:a,width:j,hoveringPosition:e.hoveringPosition,selectHandler:t.selectLocation}))}})),h.a.createElement(m.PlotSubContainer,null),h.a.createElement(m.PlotSubContainer,null,h.a.createElement(I,{width:150,height:L,minY:0,maxY:100})),h.a.createElement(m.PlotSubContainer,null,h.a.createElement(D,{minY:0,maxY:100,width:j,height:L}),h.a.createElement(p.DateVerticalLineGrid,{width:j,height:L,minX:n,maxX:a}),h.a.createElement(H,{respiratorySupportVariable:i,iNOAdministration:l,anestheticsAdministration:c,minX:n,maxX:a,width:j,minY:0,maxY:100,height:L}),h.a.createElement(X.a,{width:j,height:L,minX:n,maxX:a,X:u}),h.a.createElement(b.PlotInteractionProvider,{width:j,height:L,transitionGraph:b.INTERACTION_MODEL_BARE,render:function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(P.VerticalCrosshairSelector,{width:j,minX:n,maxX:a,hoveringPosition:e.hoveringPosition,selectHandler:t.selectCrosshair}),h.a.createElement(S.LocationPlotHoverSelector,{data:d,minX:n,maxX:a,width:j,hoveringPosition:e.hoveringPosition,selectHandler:t.selectLocation}),h.a.createElement(T.RespiratoryScoresTooltipSelector,{hoveringPosition:e.hoveringPosition,width:j,minX:n,maxX:a,location:d,respiratorySupportVariable:i,selectHandler:t.selectTooltip}),h.a.createElement(R.a,{minX:n,maxX:a,width:j,height:L,startX:s,endX:E,snap:36e5,showHandle:!0,updatingHandler:t.handleRangerUpdating,updateHandler:t.handleRangerUpdate,clickHandler:t.handleRangerClick}))}})),h.a.createElement(m.PlotSubContainer,null),h.a.createElement(m.PlotSubContainer,null,h.a.createElement(f.StaticYPanel,{categoryStructure:Y,width:150,height:30,rowHeight:30})),h.a.createElement(m.PlotSubContainer,null,h.a.createElement("div",{style:{width:j,height:30,backgroundColor:"#feddaa"}}),h.a.createElement(p.DateXAxis,{width:j,height:30,minX:n,maxX:a,tickPosition:"top"})),h.a.createElement(m.PlotSubContainer,null),h.a.createElement("div",{style:{position:"absolute",left:150,pointerEvents:"none"}},h.a.createElement(g.a,{width:10,height:o}),h.a.createElement(_.a,{timeStamp:C,location:null===y?null:x[y],ECMOVADVariable:null,respiratorySuppportVariable:null===A?null:w[A],clientX:M,clientY:V})))}},{key:"indexArrayBy",value:function(t,e){var n={},a=!0,r=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;n[c[e]]=c}}catch(h){r=!0,o=h}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}}]),e}(c.PureComponent),F=n(22),U=n(42);function B(t,e){return t=Math.min(t,e),e=Math.max(t,e),Math.random()*(e-t)+t}function J(t,e,n,a,r){return(t-e)/(n-e)*(r-a)+a}function W(t){var e=Math.random();return t[Math.floor(e*t.length)]}function G(t){for(var e=Object(U.a)({},t),n=0,a=Object.keys(t);n<a.length;n++){var r=a[n];null!==t[r]&&"RST"!==r&&(Math.random()<.5&&(e[r]=null))}return e}var z={AIRWAY_ASSESSMENT:"xxxx",APRV_PHIGH:10,APRV_PLOW:10,APRV_PS:10,BIPAP_EPAP:10,BIPAP_IPAP:10,BIPAP_RATE:10,C_STAT:10,CPAP:10,CPAP_FLOW:10,ETCO2:10,ETT_SIZE:10,FIO2:10,FLOW_RATE:10,HE:10,HFJV_ITIME:10,HFJV_MAP:10,HFJV_MONITORED_PEEP:10,HFJV_PIP:10,HFJV_RATE:10,HFNC:10,HFOV_AMPLITUDE:10,HFOV_BIAS_FLOW:10,HFOV_FREQUENCY:10,HFOV_ITIME:"%",HFOV_MODEL:10,HFOV_POWER:10,INO_DOSE:10,ITIME:10,MAP:10,MASK:"Small",MODE:10,MVE:10,NAVA:10,OXYGEN_FIO2_DELIVERY_DEVICE:10,OXYGEN_LMIN_DELIVERY_DEVICE:10,OXYGEN_SOURCE:10,PEEP:10,PIP:10,PPLAT:10,PS:10,RESPIRATORY_RATE:10,RISE_TIME:10,TV:10,TV_MAND:10,TV_SPONT:10,VENT_RATE:10,RST:null,RSS:null},K=["RA","MASK","BB","NC","HFNC","CPAP","BIPAP","BVM","PSV","PCV","VCV","HFOV","HFJV"],Q=150807612e4,Z=150991596e4,q=function(){for(var t=[],e=null,n=0;n<100;n++)e=null===e?{TIME:0,RST:W(K),RSS:B(0,100),ID:n}:{TIME:e.TIME+Math.random(),RST:W(K),RSS:B(0,100),ID:n},e=Object(U.a)({},G(z),e),t.push(e);var a=Math.max.apply(Math,Object(F.a)(t.map(function(t){return t.TIME})));return t.forEach(function(t){t.TIME=J(t.TIME,0,a,Q,Z)}),t}(),$=function(){for(var t=[],e=null,n=0;n<3;n++)null===e?(e={ID:n,START:Math.random()}).END=e.START+3*Math.random():(e={ID:n,START:e.END+Math.random()}).END=e.START+3*Math.random(),t.push(e);var a=Math.random()+Math.max.apply(Math,Object(F.a)(t.map(function(t){return t.END})));return t.forEach(function(t){t.START=J(t.START,0,a,Q,Z),t.END=J(t.END,0,a,Q,Z)}),t}(),tt=function(){for(var t=[],e=null,n=0;n<3;n++)null===e?(e={ID:n,START:Math.random()}).END=e.START+3*Math.random():(e={ID:n,START:e.END+Math.random()}).END=e.START+3*Math.random(),t.push(e);var a=Math.random()+Math.max.apply(Math,Object(F.a)(t.map(function(t){return t.END})));return t.forEach(function(t){t.START=J(t.START,0,a,Q,Z),t.END=J(t.END,0,a,Q,Z)}),t}(),et=function(){for(var t=["other","home","8s","8e"],e=[],n=null,a=0;a<10;a++)n=null===n?{NAME:W(t),START:0,END:Math.random(),ID:a}:{NAME:W(t.filter(function(t){return t!==n.NAME})),START:n.END,END:n.END+Math.random(),ID:a},e.push(n);var r=Math.max.apply(Math,Object(F.a)(e.map(function(t){return t.END})));return e.forEach(function(t){t.END=J(t.END,0,r,Q,Z),t.START=J(t.START,0,r,Q,Z)}),e}(),nt=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(o.a)(this,Object(i.a)(e).call(this,t))).handleCrosshairUpdate=function(t){n.setState({crosshairX:t})},n.handleRangerUpdating=function(t,e){n.setState({startX:t,endX:e})},n.handleRangerUpdate=function(t,e){n.setState({startX:t,endX:e})},n.handleRangerClick=function(){var t=n.state,e=t.minX,a=t.maxX,r=t.startX,o=t.endX;r===e&&o===a?n.setState({minX:Q,maxX:Z}):n.setState({minX:r,maxX:o})},n.state={startX:Z-252e5,endX:Z,minX:Q,maxX:Z},n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.state,e=t.startX,n=t.endX,a=t.minX,r=t.maxX,o=t.crosshairX;return h.a.createElement(L,{height:400,width:800,minX:a,maxX:r,startX:e,endX:n,respiratorySupportVariable:q,iNOAdministration:$,anestheticsAdministration:tt,location:et,crosshairX:o,rangerUpdatingHandler:this.handleRangerUpdating,rangerUpdateHandler:this.handleRangerUpdate,rangerClickHandler:this.handleRangerClick,crosshairUpdateHandler:this.handleCrosshairUpdate})}}]),e}(c.Component);u.a.render(h.a.createElement(nt,null),document.getElementById("root"))},86:function(t,e,n){t.exports=n(237)}},[[86,1,2]]]);
//# sourceMappingURL=main.399d9ebb.chunk.js.map